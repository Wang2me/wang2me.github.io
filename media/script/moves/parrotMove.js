
//<br>&emsp;&emsp;&emsp;
//史前至夏商周
{

 
}


 //秦漢
{
    markers.parrot1 = createMarker({ lat:23.1285,lng:113.2392}, 'parrot','廣東廣州',{ A:['parrot'], B:['秦漢'],C:['朝貢'],D:['陸上絲綢之路'],E:['東亞'] }
,{  title_cn: '描述',title_en: 'Description',
    description_cn: '中國的原生鸚鵡主要分佈在南方地區，包括廣東、廣西、海南等地。元狩二年（公元前121年），南越國曾向漢武帝進貢了一隻｢能言鳥｣。說明西漢時期人們已經掌握了飼養和訓練鸚鵡的技術。'
    ,description_en:'The native parrots of China are mainly spread in the southern regions, including Guangdong 廣東, Guangxi 廣西, and Hainan 海南. In 121 BCE, the Nanyue State 南越國 offered a "speaking bird" to Emperor Wu of the Han Dynasty 漢武帝. This indicates that people in the Western Han Dynasty had already mastered the art of raising and training parrots.'
,reference:'1. 張廷玉等，《明史·列傳第二百十二》（北京：中華書局，1997），頁8394。'
    ,imag:''
    ,referenceUrl:''
 });

 
					
}
//三国
{ 
markers.parrot2 = createMarker({ lat:15.8815,lng:108.3456}, 'parrot','越南會安',{ A:['parrot'], B:['三國兩晉南北朝'],C:['朝貢'],D:['陸上絲綢之路'],E:['東南亞'] },
{title_cn: '描述',title_en: 'Description'  
,description_cn:'林邑是位於越南中部地區的古國。東晉時期，林邑曾多次進貢象和鸚鵡。'  
,description_en:'Champa was an ancient state located in the central region of Vietnam. During the period of the Eastern Jin Dynasty 東晉, Champa contributed elephants and parrots several times.'
,reference:'1. 房玄齡等，《晉書·帝紀第七》（北京：中華書局，1997），頁182。<br>&emsp;&emsp;&emsp;2. 房玄齡等，《晉書·帝紀第十》（北京：中華書局，1997），頁266。'  
,image:''
,referenceUrl:''
});
//江蘇南京	-lat:32.0435607,lng:118.7501

markers.parrot3 = createMarker({ lat:11.5537,lng:104.9140}, 'parrot','柬埔寨金邊',{ A:['parrot'], B:['三國兩晉南北朝'],C:['文化娛樂'],D:['海上絲綢之路'],E:['東南亞']},
{title_cn: '描述',title_en: 'Description'  
,description_cn:'扶南國是南北朝時期的一個印度化的古代國家，位於中南半島南部，其領土範圍大概包括現在的泰國南部、柬埔寨、越南南部。扶南和南朝的幾代政權交往頻繁，當時的中國文獻中記載扶南國有一種｢五色鸚鵡｣。有歷史學家認為，這種顏色鮮艷的鸚鵡應該是東南亞地區的紅猩猩鸚鵡。'  
,description_en:'Funan 扶南 was an ancient Indianized kingdom during the Northern and Southern Dynasties 南北朝, located in the southern part of Mainland Southeast Asia, with its territory roughly encompassing what is now southern Thailand, Cambodia, and southern Vietnam. There were frequent exchanges between the Funan and Southern Dynasties 南朝, and there was a kind of "five colored parrots" recorded in Chinese historical records of that time. Some historians believed the "five colored parrots" were the chattering lories in Southeast Asia.'
,reference:'1. 姚思廉，《梁書·列傳第四十八》（北京：中華書局，1997），頁787。<br>&emsp;&emsp;&emsp;2. Edward H.Schafer, The Golden Peaches of Samarkand: A Study of T’ang Exotics (Berkeley and Los Angeles: University of California Press, 1963), pp. 93.'
,image:''
,referenceUrl:''});				
						
}

//隋
{


}

//唐
{
         
 markers.parrot4 = createMarker({lat:34.6138,lng:112.4417}, 'parrot','河南洛陽',{ A:['parrot'], B:['唐'],C:['文化娛樂'],D:['其他'],E:['東亞'] },
 {title_cn: '描述',title_en: 'Description'  
  ,description_cn:'武則天是中國歷史上唯一的女皇帝。她在正式稱帝前，受到唐高宗的寵幸，而在後宮鬥爭中驅逐並誅殺了王皇后和蕭淑妃。據史書記載，蕭淑妃被殺前曾詛咒武則天來世變成老鼠，而自己來世變成貓以便向武則天復仇。武則天因此而禁止在後宮養貓。然而，可能是因為太喜愛貓，武則天稱帝後解除了不准養貓的限制。據說她曾經在朝堂上展示自己飼養的貓和鸚鵡，在百官面前，那隻貓突然性情大變，將鸚鵡咬死了。這件事也被後世文人附會為武則天統治終結的預兆。由此可見，貓是唐朝皇室十分喜愛的動物，飼養寵物貓在唐朝宮廷十分普遍。'  
  ,description_en:'Wu Zetian 武則天 was the only female emperor in Chinese history. Before she became emperor, she was favored by Emperor Gaozong of the Tang Dynasty 唐高宗 and expelled and killed Empress Wang 王皇后 and Consort Xiao 蕭淑妃 in a harem struggle. According to historical records, before she was killed, Consort Xiao cursed Wu Zetian to become a mouse in the next life and herself to become a cat, so that she could take revenge on Wu Zetian. As a result, Wu Zetian forbade the keeping of cats in the harem.However, perhaps because she loved cats so much, Wu Zetian lifted the ban on keeping cats after she became emperor. She once displayed her cat and parrot in the court, and the cat suddenly went berserk and bit the parrot to death in front of many officials. This incident was also interpreted by later scholars as a harbinger of the end of Wu Zetian\'s reign.These accounts indicate that cats were very popular with the royals of the Tang Dynasty 唐朝 and that keeping pet cats was very common in the Tang court.'
 ,reference:'1. 劉昫等，《舊唐書·列傳第一 后妃上》（北京：中華書局，1997），頁2170。<br>&emsp;&emsp;&emsp;2. 張鷟，《朝野僉載·卷五》（北京：中華書局據寶顏堂秘笈本點校，1979），頁117。'
  ,image:''
  ,referenceUrl:''}); 

   
markers.parrot5 = createMarker({ lat:15.8803,lng:108.3380 }, 'parrot','越南會安',{ A:['parrot'],B:['唐'],C:['朝貢'],D:['陸上絲綢之路'],E:['東南亞'] },
{title_cn: '描述',title_en: 'Description'  
 ,description_cn:'林邑（今越南中部）在貞觀五年（公元631年）向唐朝進貢了一隻五色鸚鵡和一隻白鸚鵡。其中這隻白鸚鵡可以說話，唐太宗憐憫這隻鸚鵡，最後把它放生了。'  
 ,description_en:'In 631, Champa (present-day central Vietnam) sent a chattering lory and a white parrot to the Tang Dynasty 唐朝. The white parrot could talk with Emperor Taizong of the Tang Dynasty 唐太宗. He pitied the parrot and eventually released it into the wild.'
,reference:'1. 劉昫等，《舊唐書·列傳第一百四十七》（北京：中華書局，1997），頁5270。'
 ,imag:''});	
 	
 
markers.parrot6 = createMarker({ lat:8.8932,lng:76.6124}, 'parrot','印度奎隆',{ A:['parrot'],B:['唐'],C:['朝貢'],D:['海上絲綢之路'],E:['南亞'] },
{title_cn: '描述',title_en: 'Description'  
 ,description_cn:'天竺是中國古籍中對古印度的稱呼。開元八年（公元720年），南天竺向唐朝進貢豹和鸚鵡。'  
 ,description_en:'In 720, Southern India offered leopards and parrots as tributes to the Tang Dynasty.'
,reference:'1. 王欽若等，《冊府元龜·卷之九百七十一》（中國國家圖書館藏明崇禎十五年黃國琦刻本）。'
 ,image:''
 ,referenceUrl:''});


markers.parrot7 = createMarker({ lat:-2.9749,lng:104.7566}, 'parrot','印度尼西亞巨港',{ A:['parrot'],B:['唐'],C:['朝貢'],D:['海上絲綢之路'],E:['東南亞'] },
   {title_cn: '描述',title_en: 'Description'  
    ,description_cn:'室利佛逝，又稱尸利佛誓，是一個信奉佛教的東南亞國家。開元十六年（公元728年），室利佛逝向唐玄宗進貢了五色鸚鵡。'  
    ,description_en:'Srivijaya was a Buddhist empire located in Southeast Asia. In 728, Srivijaya offered chattering lories as tributes to Emperor Xuanzong of the Tang Dynasty 唐玄宗.'
   ,reference:'1. 王欽若等，《冊府元龜·卷之九百七十一》（中國國家圖書館藏明崇禎十五年黃國琦刻本）。'
    ,image:''
    ,referenceUrl:''});	     
    
   markers.parrot8 = createMarker({lat:-6.8956,lng:109.6677}, 'parrot','印度尼西亞北加浪岸',{ A:['parrot'],B:['唐'],C:['朝貢'],D:['海上絲綢之路'],E:['東南亞'] },
   {title_cn: '描述',title_en: 'Description'  
    ,description_cn:'訶陵，又稱闍婆，是爪哇島北部的一個古代國家。元和十三年（公元818年），訶陵向唐朝進貢了鸚鵡和玳瑁。'  
    ,description_en:'Kalingga Kingdom was an ancient Kingdom located on the north coast of Java. In 818, Kalingga contributed parrots and tortoiseshell to the Tang Dynasty.'
   ,reference:'1. 劉昫等，《舊唐書·列傳第一百四十七》（北京：中華書局，1997），頁5273。'
    ,image:''
    ,referenceUrl:''});


}

//宋
{
   
//河南開封	
    
   markers.parrot9 = createMarker({lat:-6.8840,lng:109.6725}, 'parrot','印度尼西亞北加浪岸',{ A:['parrot'],B:['宋'],C:['朝貢'],D:['海上絲綢之路'],E:['東南亞'] },
   {title_cn: '描述',title_en: 'Description'  
    ,description_cn:'闍婆（今爪哇島北部）曾向北宋進貢過白鸚鵡，此外還有珍珠、玳瑁等珠寶。'  
    ,description_en:'The Kalingga Kingdom (present-day northern Java) contributed white parrots to the Northern Song Dynasty 北宋, as well as pearls, tortoiseshells, and other jewels.'
   ,reference:'1. 脫脫等，《宋史·列傳第二百四十八》（北京：中華書局，1997），頁14092。'
    ,image:''
    ,referenceUrl:''});
//河南開封	         
   
}
//元
{

     
   markers.parrot10 = createMarker({lat:15.0481,lng:100.8849}, 'parrot','泰國華富里',{ A:['parrot'],B:['元'],C:['朝貢'],D:['其他'],E:['東南亞'] },
   {title_cn: '描述',title_en: 'Description'  
    ,description_cn:'羅斛國，又名羅渦國，是位於泰國中南部地區的古代國家。元世祖統治時期，羅斛國派遣使者向元朝進貢，貢品就包括鸚鵡、象牙、犀角、黃金、以及各類香料。'  
    ,description_en:'The Lavo Kingdom was an ancient political entity located in the south-central region of Thailand. During the period of Emperor Shizu of Yuan 元世祖, the Lavo Kingdom sent envoys to the Yuan Dynasty 元朝 to pay tribute, which included parrots, ivory, rhino horns, gold, and various kinds of spices.'
   ,reference:'1. 宋濂等，《元史·本紀第十六》（北京：中華書局，1997），頁351。'
    ,image:''
    ,referenceUrl:''});
    
    
markers.parrot11 = createMarker({lat:-7.5933,lng:110.5082}, 'parrot','印度尼西亞爪哇',{ A:['parrot'],B:['元'],C:['朝貢'],D:['海上絲綢之路'],E:['東南亞'] },
{title_cn: '描述',title_en: 'Description'  
 ,description_cn:'泰定四年（公元1327年），爪哇向元朝進貢了一隻金錢豹和一隻白鸚鵡。'  
 ,description_en:'In 1327, Java paid tribute to the Yuan Dynasty 元朝 with a Java leopard and a white parrot.'
,reference:'1. 宋濂等，《元史·本紀第三十》（北京：中華書局，1997），頁683。'
 ,image:''
 ,referenceUrl:''});  		

}

//明
   { 
markers.parrot12 = createMarker({lat:-2.9905,lng:104.7800}, 'parrot','印度尼西亞巨港',{ A:['parrot'],B:['明'],C:['朝貢'],D:['海上絲綢之路'],E:['東南亞'] },
{title_cn: '描述',title_en: 'Description'  
 ,description_cn:'三佛齊是一個信仰佛教的東南亞國家，其鼎盛時期曾經佔據如今馬來西亞和印度尼西亞的大部分領土。洪武十年（公元1377年），三佛齊向明朝進貢犀牛、鸚鵡等動物，此後持續向明朝貢。'  
 ,description_en:'The Srivijaya was a Buddhist kingdom in Southeast Asia, which at its height occupied most of what is now Malaysia and Indonesia. In 1377, the Srivijaya sent rhinos, parrots, and other animals as tribute to the Ming Dynasty 明朝, and continued to contribute thereafter.'
,reference:'1. 張廷玉等，《明史·列傳第二百十二》（北京：中華書局，1997），頁8406-8407。'  
 ,image:''
 ,referenceUrl:''});  
//江蘇南京	-lat:32.0363173,lng:118.8286
 	
markers.parrot13 = createMarker({lat:2.2037,lng:102.2419}, 'parrot','馬來西亞馬六甲',{ A:['parrot'],B:['明'],C:['朝貢'],D:['海上絲綢之路'],E:['東南亞'] },
{title_cn: '描述',title_en: 'Description'  
 ,description_cn:'馬六甲蘇丹國，在《明史》中被稱為滿剌加。鄭和下西洋時，其國王跟隨鄭和一同返回，成為了明王朝的藩屬國。該國地處馬六甲海峽，是連接印度洋和太平洋的必經之路，也是古代東西方海上貿易的中轉站。'  
 ,description_en:'Zheng He 鄭和 once reached Malacca Sultanate on his ocean voyages. The Malacca Sultanate became a tributary of the Ming Dynasty 明朝 and maintain a close relationship for a long time. Located in the Strait of Malacca, the state was an essential route connecting the Indian and Pacific Oceans and was also a transit point for the ancient maritime trade between the East and the West. This kingdom also once contributed parrots to the Ming Dynasty.'
,reference:'1. 張廷玉等，《明史·列傳第二百十三》（北京：中華書局，1997），頁8419。'
 ,image:''
 ,referenceUrl:''}); 
//廣東廣州，江蘇南京，北京	-lat:23.1358698,lng:113.2299-lat:32.0513613,lng:118.7414

markers.parrot14 = createMarker({lat:22.5714,lng:88.3510 }, 'parrot','印度加爾各答',{ A:['parrot'],B:['明'],C:['朝貢'],D:['海上絲綢之路'],E:['南亞'] },
{title_cn: '描述',title_en: 'Description'  
 ,description_cn:'榜葛剌位於如今的孟加拉國以及印度東部地區。鄭和的船隊曾多次造訪該國，並帶回多種鸚鵡以及香料。'  
 ,description_en:'Bengal was located in the present-day Bangladesh and the eastern part of India. Zheng He\'s 鄭和 fleet visited the country several times and brought back many kinds of parrots and spices.'
,reference:'1. 張廷玉等，《明史·列傳第二百十四》（北京：中華書局，1997），頁8447。'  
 ,image:''
 ,referenceUrl:''}); 

}

//清
{
	
  
 
 }
        

// 获取时间轴元素和标记
var timeline = document.getElementById('timeline');
var slider = document.getElementById('slider');
var parrots = [
 'parrot1', 'parrot2', 'parrot3', 'parrot4', 'parrot5', 'parrot6', 'parrot7', 'parrot8', 'parrot9', 
 'parrot10','parrot11', 'parrot12', 'parrot13', 'parrot14'
];

for (var i = 0; i < parrots.length; i++) {
 window[parrots[i]] = markers[parrots[i]];
}



// 定义新坐标和初始坐标

// 定义一个函数，生成指定范围内的随机数
function getRandomNumber(min, max) {
 return Math.random() * (max - min) + min;
}

// 定义一个函数，生成新的坐标对象，并添加随机数
function RandomCoords(coords) {
 var randomLat = coords.lat + getRandomNumber(-0.05, 0.05); // 在-0.1到0.1之间生成随机数
 var randomLng = coords.lng + getRandomNumber(-0.05, 0.05); // 在-0.1到0.1之间生成随机数
 return { lat: randomLat, lng: randomLng };
}

var xian= {lat:34.2655,lng:108.9508};//西安
var luoyang= {lat:34.6321,lng:112.4470}//洛阳
var kaifeng ={lat:34.7872,lng:114.3081};//开封
var beijing ={lat:39.9171,lng:116.3797};//北京
var nanjing={lat:32.0435,lng:118.7501}//南京


var newCoords_parrot1_1= RandomCoords(xian);

var newCoords_parrot2_1= RandomCoords(nanjing);
var newCoords_parrot5_1= RandomCoords(xian);

var newCoords_parrot6_1= RandomCoords(xian);

var newCoords_parrot7_1= RandomCoords(xian);

var newCoords_parrot8_1= RandomCoords(xian);
var newCoords_parrot9_1= RandomCoords(kaifeng);
var newCoords_parrot10_1= RandomCoords(beijing);
var newCoords_parrot11_1= RandomCoords(beijing);
var newCoords_parrot12_1= RandomCoords(nanjing);
var newCoords_parrot13_3= RandomCoords(beijing);
var newCoords_parrot13_2= RandomCoords(nanjing);
var newCoords_parrot13_1= {lat:23.1358,lng:113.2299};
var newCoords_parrot14_1= RandomCoords(beijing);






//河西走廊:敦煌-酒泉-张掖-武威
var dunhuang= { lat:	40.1130	,lng:94.6618 }; 
var wuwei = {lat:37.9283,lng:102.6371};
var jiuquan={lat:39.7237,lng:98.3444}
var zhangye = {lat:38.9177,lng:100.3065};
//海上絲路：古里-xilan-palk-馬六甲
var guli ={lat:11.2618,lng:75.7822};
var xilan={lat:6.9397,lng:79.8259};
var palk={lat:10.0803,lng:80.1207};
var maliujia={lat:2.2373,lng:102.1691};
var kailuo={lat:	30.0444 ,lng:31.2357};
var kemolin={lat:8.0864,lng:77.5355};
var jibudi={lat:11.8125,lng:41.9678};
var taihai={lat:24.2877,lng:119.5445};
var zhangjiagang={lat:31.8774,lng:120.4609};
var nanhai={lat:-0.3778,lng:106.0436};


function getInitialCoords(parrot) {
 const position = parrot.getPosition();
 return {
     lat: position.lat(),
     lng: position.lng()
 };
}


var initialCoords_parrot1 = getInitialCoords(parrot1);
var initialCoords_parrot2 = getInitialCoords(parrot2);
var initialCoords_parrot5 = getInitialCoords(parrot5);
var initialCoords_parrot6 = getInitialCoords(parrot6);
var initialCoords_parrot7 = getInitialCoords(parrot7);
var initialCoords_parrot8 = getInitialCoords(parrot8);
var initialCoords_parrot9 = getInitialCoords(parrot9);
var initialCoords_parrot10 = getInitialCoords(parrot10);
var initialCoords_parrot11 = getInitialCoords(parrot11);
var initialCoords_parrot12 = getInitialCoords(parrot12);
var initialCoords_parrot13 = getInitialCoords(parrot13);
var initialCoords_parrot14 = getInitialCoords(parrot14);

// 添加滑块值变化的事件监听器
slider.addEventListener('input', function() {
    
   // handleToggleMarkers(currentValue)
   
    //史前之前
    if (currentValue<=0)
    {
   
        markers.parrot1.setPosition(initialCoords_parrot1);
        markers.parrot2.setPosition(initialCoords_parrot2);
        markers.parrot5.setPosition(initialCoords_parrot5);
        markers.parrot6.setPosition(initialCoords_parrot6);
        markers.parrot7.setPosition(initialCoords_parrot7);
        markers.parrot8.setPosition(initialCoords_parrot8);
        markers.parrot9.setPosition(initialCoords_parrot9);
        markers.parrot10.setPosition(initialCoords_parrot10);
        markers.parrot11.setPosition(initialCoords_parrot11);
        markers.parrot12.setPosition(initialCoords_parrot12);
        markers.parrot13.setPosition(initialCoords_parrot13);
        markers.parrot14.setPosition(initialCoords_parrot14);
    }
    //史前
    if(currentValue>0&&currentValue<1000)
    {
        
     
    }
    //秦汉
    if (currentValue >= 1000 && currentValue < 2000) {
        var points_1 = [initialCoords_parrot1,  newCoords_parrot1_1, newCoords_parrot1_1];
        
        
        
        // 计算当前阶段的目标点的索引
            
            var targetIndex_1 = Math.floor((currentValue - 1000) / (1000 / (points_1.length-1)));
            
    
    
    
        // 计算插值百分比
           
            var percentage_1 = (currentValue - 1000) % (1000 / (points_1.length-1)) / (1000 / (points_1.length-1));
            
    
            
            percentage_1 = Math.min(1, Math.max(0, percentage_1));
            
    
    
        // 计算插值的新位置
            
            
            var latDiff = points_1[targetIndex_1 + 1].lat - points_1[targetIndex_1].lat;
            var lngDiff = points_1[targetIndex_1 + 1].lng - points_1[targetIndex_1].lng;
            var interpolatedLat_1 = points_1[targetIndex_1].lat + latDiff * percentage_1
            var interpolatedLng_1 = points_1[targetIndex_1].lng + lngDiff * percentage_1
            
            
    
            
    
      
            
            parrot1.setPosition({ lat: interpolatedLat_1, lng: interpolatedLng_1 });  
            
    }
    //三国
    if (currentValue >= 2000 && currentValue <3000) {
        var points_2 = [initialCoords_parrot2,  newCoords_parrot2_1, newCoords_parrot2_1];
        
        
        
        // 计算当前阶段的目标点的索引
            
            var targetIndex_2 = Math.floor((currentValue - 2000) / (1000 / (points_2.length-1)));
            
    
    
    
        // 计算插值百分比
           
            var percentage_2 = (currentValue - 2000) % (1000 / (points_2.length-1)) / (1000 / (points_2.length-1));
            
    
            
            percentage_2 = Math.min(1, Math.max(0, percentage_2));
            
    
    
        // 计算插值的新位置
            
            
            var latDiff = points_2[targetIndex_2 + 1].lat - points_2[targetIndex_2].lat;
            var lngDiff = points_2[targetIndex_2 + 1].lng - points_2[targetIndex_2].lng;
            var interpolatedLat_2 = points_2[targetIndex_2].lat + latDiff * percentage_2
            var interpolatedLng_2 = points_2[targetIndex_2].lng + lngDiff * percentage_2
            
            
    
            
    
      
            
            parrot2.setPosition({ lat: interpolatedLat_2, lng: interpolatedLng_2 });  
    }
    //隋
    if(currentValue>=3000&&currentValue<4000){

    }
    //唐
    if (currentValue >= 4000 && currentValue < 5000) {
       
        var points_5 = [initialCoords_parrot5,  newCoords_parrot5_1, newCoords_parrot5_1];
        var points_6 = [initialCoords_parrot6,  maliujia,maliujia,nanhai,newCoords_parrot6_1, newCoords_parrot6_1];
        var points_7 = [initialCoords_parrot7,  nanhai,nanhai,newCoords_parrot7_1, newCoords_parrot7_1];
        var points_8 = [initialCoords_parrot8,  nanhai,newCoords_parrot8_1, newCoords_parrot8_1];
       
        
        
    // 计算当前阶段的目标点的索引
        var targetIndex_5 = Math.floor((currentValue - 4000) / (1000 / (points_5.length-1)));
        var targetIndex_6 = Math.floor((currentValue - 4000) / (1000 / (points_6.length-1)));
        var targetIndex_7 = Math.floor((currentValue - 4000) / (1000 / (points_7.length-1)));
        var targetIndex_8 = Math.floor((currentValue - 4000) / (1000 / (points_8.length-1)));
        



    // 计算插值百分比
        var percentage_5 = (currentValue - 4000) % (1000 / (points_5.length-1)) / (1000 / (points_5.length-1));
        var percentage_6 = (currentValue - 4000) % (1000 / (points_6.length-1)) / (1000 / (points_6.length-1));
        var percentage_7 = (currentValue - 4000) % (1000 / (points_7.length-1)) / (1000 / (points_7.length-1));
        var percentage_8 = (currentValue - 4000) % (1000 / (points_8.length-1)) / (1000 / (points_8.length-1));
       

        percentage_5 = Math.min(1, Math.max(0, percentage_5));
        percentage_6 = Math.min(1, Math.max(0, percentage_6));
        percentage_7 = Math.min(1, Math.max(0, percentage_7));
        percentage_8 = Math.min(1, Math.max(0, percentage_8));
       


    // 计算插值的新位置
        var latDiff = points_5[targetIndex_5 + 1].lat - points_5[targetIndex_5].lat;
        var lngDiff = points_5[targetIndex_5 + 1].lng - points_5[targetIndex_5].lng;
        var interpolatedLat_5 = points_5[targetIndex_5].lat + latDiff * percentage_5
        var interpolatedLng_5 = points_5[targetIndex_5].lng + lngDiff * percentage_5

        var latDiff = points_6[targetIndex_6 + 1].lat - points_6[targetIndex_6].lat;
        var lngDiff = points_6[targetIndex_6 + 1].lng - points_6[targetIndex_6].lng;
        var interpolatedLat_6 = points_6[targetIndex_6].lat + latDiff * percentage_6
        var interpolatedLng_6 = points_6[targetIndex_6].lng + lngDiff * percentage_6

        var latDiff = points_7[targetIndex_7 + 1].lat - points_7[targetIndex_7].lat;
        var lngDiff = points_7[targetIndex_7 + 1].lng - points_7[targetIndex_7].lng;
        var interpolatedLat_7 = points_7[targetIndex_7].lat + latDiff * percentage_7
        var interpolatedLng_7 = points_7[targetIndex_7].lng + lngDiff * percentage_7

        var latDiff = points_8[targetIndex_8 + 1].lat - points_8[targetIndex_8].lat;
        var lngDiff = points_8[targetIndex_8 + 1].lng - points_8[targetIndex_8].lng;
        var interpolatedLat_8 = points_8[targetIndex_8].lat + latDiff * percentage_8
        var interpolatedLng_8 = points_8[targetIndex_8].lng + lngDiff * percentage_8
        
       

  
        parrot5.setPosition({ lat: interpolatedLat_5, lng: interpolatedLng_5 });
        parrot6.setPosition({ lat: interpolatedLat_6, lng: interpolatedLng_6 }); 
        parrot7.setPosition({ lat: interpolatedLat_7, lng: interpolatedLng_7 });  
        parrot8.setPosition({ lat: interpolatedLat_8, lng: interpolatedLng_8 });   
       

    }
    //宋
    if (currentValue >= 5000 && currentValue <6000) {
       
        var points_9 = [initialCoords_parrot9,  nanhai,taihai,newCoords_parrot9_1, newCoords_parrot9_1];
   
    // 计算当前阶段的目标点的索引
        var targetIndex_9 = Math.floor((currentValue - 5000) / (1000 / (points_9.length-1)));
        
    // 计算插值百分比
        var percentage_9 = (currentValue - 5000) % (1000 / (points_9.length-1)) / (1000 / (points_9.length-1));
        
        
        percentage_9 = Math.min(1, Math.max(0, percentage_9));
        
        
    // 计算插值的新位置
        

        var latDiff = points_9[targetIndex_9 + 1].lat - points_9[targetIndex_9].lat;
        var lngDiff = points_9[targetIndex_9 + 1].lng - points_9[targetIndex_9].lng;
        var interpolatedLat_9 = points_9[targetIndex_9].lat + latDiff * percentage_9;
        var interpolatedLng_9 = points_9[targetIndex_9].lng + lngDiff * percentage_9;

        
        
    // 设置parrot29的位置
        parrot9.setPosition({ lat: interpolatedLat_9, lng: interpolatedLng_9 });
        
    }
    //元
    if (currentValue >= 6000 && currentValue <7000) {
   
            var points_11 = [initialCoords_parrot11,  taihai,zhangjiagang,newCoords_parrot11_1, newCoords_parrot11_1];
            var points_10 = [initialCoords_parrot10,  maliujia,nanhai,taihai,zhangjiagang,newCoords_parrot10_1, newCoords_parrot10_1];
       
        // 计算当前阶段的目标点的索引
            var targetIndex_11 = Math.floor((currentValue - 6000) / (1000 / (points_11.length-1)));
            var targetIndex_10 = Math.floor((currentValue - 6000) / (1000 / (points_10.length-1)));
            
        // 计算插值百分比
            var percentage_11 = (currentValue - 6000) % (1000 / (points_11.length-1)) / (1000 / (points_11.length-1));
            var percentage_10 = (currentValue - 6000) % (1000 / (points_10.length-1)) / (1000 / (points_10.length-1));
            
            
            percentage_11 = Math.min(1, Math.max(0, percentage_11));
            percentage_10 = Math.min(1, Math.max(0, percentage_10));
            
            
        // 计算插值的新位置
            var latDiff = points_11[targetIndex_11 + 1].lat - points_11[targetIndex_11].lat;
            var lngDiff = points_11[targetIndex_11 + 1].lng - points_11[targetIndex_11].lng;
            var interpolatedLat_11 = points_11[targetIndex_11].lat + latDiff * percentage_11;
            var interpolatedLng_11 = points_11[targetIndex_11].lng + lngDiff * percentage_11;
    
            var latDiff = points_10[targetIndex_10 + 1].lat - points_10[targetIndex_10].lat;
            var lngDiff = points_10[targetIndex_10 + 1].lng - points_10[targetIndex_10].lng;
            var interpolatedLat_10 = points_10[targetIndex_10].lat + latDiff * percentage_10;
            var interpolatedLng_10 = points_10[targetIndex_10].lng + lngDiff * percentage_10;
    
            
            
        // 设置parrot210的位置
            parrot11.setPosition({ lat: interpolatedLat_11, lng: interpolatedLng_11 });
            parrot10.setPosition({ lat: interpolatedLat_10, lng: interpolatedLng_10 });
            
    
       
    
    }
   //明
    if(currentValue >=7000 && currentValue <8000){
        
        var points_12 = [initialCoords_parrot12,  nanhai,taihai,zhangjiagang,newCoords_parrot12_1, newCoords_parrot12_1];
        var points_13 = [initialCoords_parrot13,  nanhai,newCoords_parrot13_1, newCoords_parrot13_2,newCoords_parrot13_3,newCoords_parrot13_3];
        var points_14 = [initialCoords_parrot14,  maliujia,taihai,zhangjiagang,newCoords_parrot14_1, newCoords_parrot14_1];
       
        
        
    // 计算当前阶段的目标点的索引
        var targetIndex_12 = Math.floor((currentValue - 7000) / (1000 / (points_12.length-1)));
        var targetIndex_13 = Math.floor((currentValue - 7000) / (1000 / (points_13.length-1)));
        var targetIndex_14 = Math.floor((currentValue - 7000) / (1000 / (points_14.length-1)));
        



    // 计算插值百分比
        var percentage_12 = (currentValue - 7000) % (1000 / (points_12.length-1)) / (1000 / (points_12.length-1));
        var percentage_13 = (currentValue - 7000) % (1000 / (points_13.length-1)) / (1000 / (points_13.length-1));
        var percentage_14 = (currentValue - 7000) % (1000 / (points_14.length-1)) / (1000 / (points_14.length-1));
       

        percentage_12 = Math.min(1, Math.max(0, percentage_12));
        percentage_13 = Math.min(1, Math.max(0, percentage_13));
        percentage_14 = Math.min(1, Math.max(0, percentage_14));
       


    // 计算插值的新位置
        var latDiff = points_12[targetIndex_12 + 1].lat - points_12[targetIndex_12].lat;
        var lngDiff = points_12[targetIndex_12 + 1].lng - points_12[targetIndex_12].lng;
        var interpolatedLat_12 = points_12[targetIndex_12].lat + latDiff * percentage_12
        var interpolatedLng_12 = points_12[targetIndex_12].lng + lngDiff * percentage_12

        var latDiff = points_13[targetIndex_13 + 1].lat - points_13[targetIndex_13].lat;
        var lngDiff = points_13[targetIndex_13 + 1].lng - points_13[targetIndex_13].lng;
        var interpolatedLat_13 = points_13[targetIndex_13].lat + latDiff * percentage_13
        var interpolatedLng_13 = points_13[targetIndex_13].lng + lngDiff * percentage_13

        var latDiff = points_14[targetIndex_14 + 1].lat - points_14[targetIndex_14].lat;
        var lngDiff = points_14[targetIndex_14 + 1].lng - points_14[targetIndex_14].lng;
        var interpolatedLat_14 = points_14[targetIndex_14].lat + latDiff * percentage_14
        var interpolatedLng_14 = points_14[targetIndex_14].lng + lngDiff * percentage_14

        
        
       

  
        parrot12.setPosition({ lat: interpolatedLat_12, lng: interpolatedLng_12 });
        parrot13.setPosition({ lat: interpolatedLat_13, lng: interpolatedLng_13 }); 
        parrot14.setPosition({ lat: interpolatedLat_14, lng: interpolatedLng_14 });  
       
    
    }

    //清
    if(currentValue >=8000 && currentValue <=9000){
        
    }


});




